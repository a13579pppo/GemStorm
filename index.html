<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TON Gaming Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: Arial, sans-serif; direction: rtl; }
        #gameCanvas { border: 2px solid #000; }
    </style>
</head>
<body class="bg-gray-100 text-right">
    <div class="container mx-auto p-4">
        <!-- ูุฏุฑ ู ุงุชุตุงู ุดุจูโุณุงุฒโุดุฏู -->
        <header class="bg-blue-600 text-white p-4 rounded-lg mb-4">
            <h1 class="text-2xl font-bold">ูพูุชูุฑู ุจุงุฒ TON</h1>
            <input id="walletInput" type="text" placeholder="ุขุฏุฑุณ ฺฉูโูพูู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ" class="p-2 border rounded mt-2">
            <button id="connectWallet" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded mt-2">ุงุชุตุงู</button>
            <p id="walletStatus" class="mt-2"></p>
        </header>

        <!-- ุจุฎุด ุจุงุฒโูุง -->
        <section class="bg-white p-4 rounded-lg shadow mb-4">
            <h2 class="text-xl font-bold mb-2">ุจุงุฒโูุง ุจุฑูุงููโููุณ</h2>
            <div class="flex space-x-4">
                <button id="soloGameBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">ุจุงุฒ ูุฑุฏ</button>
                <button id="groupGameBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">ุจุงุฒ ฺฏุฑูู</button>
            </div>
            <div id="gameArea" class="mt-4">
                <p>ุจุฑุง ุดุฑูุน ุจุงุฒุ ฺฉ ุงุฒ ฺฏุฒููโูุง ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.</p>
                <canvas id="gameCanvas" width="400" height="400" class="hidden"></canvas>
                <textarea id="codeInput" class="w-full h-32 p-2 border rounded mt-2 hidden" placeholder="ฺฉุฏ ุฎูุฏ ุฑุง ุงูุฌุง ุจููุณุฏ..."></textarea>
                <button id="submitCodeBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded mt-2 hidden">ุงุฑุณุงู ฺฉุฏ</button>
                <p id="gameResult" class="mt-2"></p>
            </div>
        </section>

        <!-- ุฌุฏูู ุฑุฏูโุจูุฏ -->
        <section class="bg-white p-4 rounded-lg shadow mb-4">
            <h2 class="text-xl font-bold mb-2">ุฌุฏูู ุฑุฏูโุจูุฏ</h2>
            <table class="w-full border-collapse">
                <thead>
                    <tr class="bg-gray-200">
                        <th class="border p-2">ุฑุชุจู</th>
                        <th class="border p-2">ฺฉุงุฑุจุฑ</th>
                        <th class="border p-2">ุงูุชุงุฒ</th>
                    </tr>
                </thead>
                <tbody id="leaderboard">
                    <!-- ูพุฑ ูโุดูุฏ ุจุง ุฌุงูุงุงุณฺฉุฑูพุช -->
                </tbody>
            </table>
            <p id="leaderboardReward" class="mt-2"></p>
        </section>

        <!-- ูุฑูุดฺฏุงู NFT -->
        <section class="bg-white p-4 rounded-lg shadow mb-4">
            <h2 class="text-xl font-bold mb-2">ูุฑูุดฺฏุงู ฺฏูุชโูุง NFT</h2>
            <div class="grid grid-cols-2 gap-4">
                <div class="border p-2 rounded">
                    <h3>ุดูุดุฑ โ๏ธ</h3>
                    <p>ููุช: ฑ TON (ุดุจูโุณุงุฒ)</p>
                    <button class="buy-nft bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded" data-item="sword" data-price="1">ุฎุฑุฏ</button>
                </div>
                <div class="border p-2 rounded">
                    <h3>ุณูพุฑ ๐ก๏ธ</h3>
                    <p>ููุช: ฑ.ต TON (ุดุจูโุณุงุฒ)</p>
                    <button class="buy-nft bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded" data-item="shield" data-price="1.5">ุฎุฑุฏ</button>
                </div>
            </div>
            <p id="nftPurchaseResult" class="mt-2"></p>
            <button id="duelBtn" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded mt-4">ุฏูุฆู ุจุง ูุฑุฏ ูุงุดูุงุณ</button>
            <p id="duelResult" class="mt-2"></p>
        </section>

        <!-- ุจุฎุด ุจูุณุช -->
        <section class="bg-white p-4 rounded-lg shadow">
            <h2 class="text-xl font-bold mb-2">ุจูุณุช ุจุฑุง ูพุดุฑูุช ุณุฑุนโุชุฑ</h2>
            <ul class="list-disc pr-5">
                <li>ุนุถูุช ุฏุฑ ฺฉุงูุงู/ฺฏุฑูู: <button id="verifyMembershipBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded">ุชุฃุฏ</button></li>
                <li>ุฒุฏู ตฐ ุงุณุชุงุฑุฒ ุจู ูพุณุช: <button id="verifyStarsBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded">ุชุฃุฏ</button></li>
                <li>ุฏุนูุช ุงุฒ ฑฐ ููุฑ: <button id="verifyReferralsBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded">ุชุฃุฏ</button></li>
                <li>ุชุจูุบ ุฑุจุงุช ุฏุฑ ณ-ต ฺฏุฑูู: <button id="verifyAdsBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded">ุชุฃุฏ</button></li>
            </ul>
            <p id="boostResult" class="mt-2"></p>
        </section>
    </div>

    <script>
        let walletAddress = null;
        let userScore = 0;
        let gamesPlayed = 0;
        let leaderboard = [];
        let ownedNFTs = [];

        // ุงุชุตุงู ุดุจูโุณุงุฒโุดุฏู
        document.getElementById('connectWallet').addEventListener('click', () => {
            const input = document.getElementById('walletInput').value;
            if (input) {
                walletAddress = input;
                document.getElementById('walletStatus').textContent = `ฺฉูโูพูู ูุชุตู ุดุฏ: ${walletAddress.slice(0, 10)}...`;
            } else {
                document.getElementById('walletStatus').textContent = 'ูุทูุงู ุขุฏุฑุณ ฺฉูโูพูู ุฑุง ูุงุฑุฏ ฺฉูุฏ!';
            }
        });

        // ุจุงุฒ ูุฑุฏ
        document.getElementById('soloGameBtn').addEventListener('click', () => {
            if (!walletAddress) {
                alert('ูุทูุงู ุงุจุชุฏุง ุจู ฺฉูโูพูู ูุชุตู ุดูุฏ!');
                return;
            }
            startGame('solo');
        });

        // ุจุงุฒ ฺฏุฑูู
        document.getElementById('groupGameBtn').addEventListener('click', () => {
            if (!walletAddress) {
                alert('ูุทูุงู ุงุจุชุฏุง ุจู ฺฉูโูพูู ูุชุตู ุดูุฏ!');
                return;
            }
            startGame('group');
        });

        // ุดุฑูุน ุจุงุฒ
        function startGame(type) {
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            canvas.classList.remove('hidden');
            document.getElementById('codeInput').classList.remove('hidden');
            document.getElementById('submitCodeBtn').classList.remove('hidden');

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#000';
            for (let x = 0; x < 10; x++) {
                for (let y = 0; y < 10; y++) {
                    if (Math.random() > 0.7) {
                        ctx.fillRect(x * 40, y * 40, 40, 40);
                    }
                }
            }
            ctx.fillStyle = '#0f0';
            ctx.fillRect(0, 0, 40, 40); // ููุทู ุดุฑูุน
            ctx.fillStyle = '#f00';
            ctx.fillRect(360, 360, 40, 40); // ููุทู ูพุงุงู

            document.getElementById('gameResult').textContent = `ุจุงุฒ ${type === 'solo' ? 'ูุฑุฏ' : 'ฺฏุฑูู'} ุดุฑูุน ุดุฏ! ฺฉุฏ ุฎูุฏ ุฑุง ุจููุณุฏ ุชุง ุจู ููุทู ูุฑูุฒ ุจุฑุณุฏ.`;
        }

        // ุงุฑุณุงู ฺฉุฏ ู ุจุฑุฑุณ
        document.getElementById('submitCodeBtn').addEventListener('click', () => {
            const code = document.getElementById('codeInput').value;
            gamesPlayed++;

            if (code.includes('move')) {
                userScore += 10;
                document.getElementById('gameResult').textContent = 'ุชุจุฑฺฉ! ุดูุง ุจุฑูุฏู ุดุฏุฏ. ฑฐ ุงูุชุงุฒ ฺฉุณุจ ฺฉุฑุฏุฏ.';
                updateLeaderboard();

                if (gamesPlayed >= 20 && gamesPlayed <= 30) {
                    userScore += 50; // ุฌุงุฒู TON
                    ownedNFTs.push('NFT Gift #' + gamesPlayed);
                    document.getElementById('gameResult').textContent += ' ๐ ุฌุงุฒู: ตฐ TON + ฺฉ NFT!';
                }
            } else {
                document.getElementById('gameResult').textContent = 'ฺฉุฏ ุงุดุชุจุงู ุงุณุช. ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ.';
            }
        });

        // ุจูโุฑูุฒุฑุณุงู ุฌุฏูู ุฑุฏูโุจูุฏ
        function updateLeaderboard() {
            leaderboard.push({ user: walletAddress || 'ฺฉุงุฑุจุฑ ูุงุดูุงุณ', score: userScore });
            leaderboard.sort((a, b) => b.score - a.score);

            const tbody = document.getElementById('leaderboard');
            tbody.innerHTML = '';
            leaderboard.slice(0, 5).forEach((entry, index) => {
                const row = `<tr><td class="border p-2">${index + 1}</td><td class="border p-2">${entry.user.slice(0, 10)}...</td><td class="border p-2">${entry.score}</td></tr>`;
                tbody.innerHTML += row;
            });

            if (leaderboard[0]?.user === walletAddress) {
                document.getElementById('leaderboardReward').textContent = '๐ ุดูุง ููุฑ ุงูู ูุณุชุฏ! ุฌุงุฒู: ฑฐฐ TON';
                userScore += 100;
            }
        }

        // ุฎุฑุฏ NFT (ุดุจูโุณุงุฒ)
        document.querySelectorAll('.buy-nft').forEach(button => {
            button.addEventListener('click', () => {
                if (!walletAddress) {
                    alert('ูุทูุงู ุงุจุชุฏุง ุจู ฺฉูโูพูู ูุชุตู ุดูุฏ!');
                    return;
                }

                const item = button.dataset.item;
                const price = parseFloat(button.dataset.price);
                if (confirm(`ุขุง ูโุฎูุงูุฏ ${item} ุฑุง ุจุง ${price} TON ุจุฎุฑุฏุ`)) {
                    ownedNFTs.push(item);
                    document.getElementById('nftPurchaseResult').textContent = `๐ ${item} ุจุง ููููุช ุฎุฑุฏุงุฑ ุดุฏ! (ุดุจูโุณุงุฒ)`;
                }
            });
        });

        // ุฏูุฆู
        document.getElementById('duelBtn').addEventListener('click', () => {
            if (ownedNFTs.length === 0) {
                document.getElementById('duelResult').textContent = 'ุจุฑุง ุฏูุฆู ุญุฏุงูู ฺฉ NFT ูุงุฒ ุฏุงุฑุฏ!';
                return;
            }

            const win = Math.random() > 0.5;
            if (win) {
                userScore += 50;
                document.getElementById('duelResult').textContent = '๐ ุดูุง ุฏุฑ ุฏูุฆู ุจุฑูุฏู ุดุฏุฏ! ตฐ ุงูุชุงุฒ ฺฉุณุจ ฺฉุฑุฏุฏ.';
                updateLeaderboard();
            } else {
                document.getElementById('duelResult').textContent = 'ูุชุฃุณูุงูู ุฏุฑ ุฏูุฆู ุจุงุฎุชุฏ. ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ!';
            }
        });

        // ุจูุณุชโูุง
        document.getElementById('verifyMembershipBtn').addEventListener('click', () => {
            userScore += 20;
            document.getElementById('boostResult').textContent = 'ุนุถูุช ุชุฃุฏ ุดุฏ! ฒฐ ุงูุชุงุฒ ฺฉุณุจ ฺฉุฑุฏุฏ.';
            updateLeaderboard();
        });

        document.getElementById('verifyStarsBtn').addEventListener('click', () => {
            userScore += 20;
            document.getElementById('boostResult').textContent = 'ตฐ ุงุณุชุงุฑุฒ ุชุฃุฏ ุดุฏ! ฒฐ ุงูุชุงุฒ ฺฉุณุจ ฺฉุฑุฏุฏ.';
            updateLeaderboard();
        });

        document.getElementById('verifyReferralsBtn').addEventListener('click', () => {
            userScore += 50;
            document.getElementById('boostResult').textContent = 'ฑฐ ุฑูุฑุงู ุชุฃุฏ ุดุฏ! ตฐ ุงูุชุงุฒ ฺฉุณุจ ฺฉุฑุฏุฏ.';
            updateLeaderboard();
        });

        document.getElementById('verifyAdsBtn').addEventListener('click', () => {
            userScore += 30;
            document.getElementById('boostResult').textContent = 'ุชุจูุบุงุช ุชุฃุฏ ุดุฏ! ณฐ ุงูุชุงุฒ ฺฉุณุจ ฺฉุฑุฏุฏ.';
            updateLeaderboard();
        });
    </script>
</body>
          </html>
